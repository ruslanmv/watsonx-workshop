{
  "sub_searches": [
    {
      "query": {
        "multi_match": {
          "query": "{{model_text}}",
          "type": "most_fields",
          "fields": [
            "metadata.title",
            "text"
          ],
          "boost": 1.0
        }
      }
    },
    {
      "query": {
        "text_expansion": {
          "vector.tokens": {
            "model_id": "{{model_id}}",
            "model_text": "{{model_text}}",
            "boost": 2.0
          }
        }
      }
    }
  ],
  "rank": {
    "rrf": {
      "window_size": 50,
      "rank_constant": 20
    }
  }
}
